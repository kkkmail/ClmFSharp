# ClmFSharp
## F# modelling of chiral symmetry breaking in chemical systems. 

The main difficulty in modeling organic chemical systems is a very large number of possible reagents and reactions. For example, the number of peptide chains grows as: `(2 * M) * ((2 * M) ^ (N + 1) – 1) / ((2 * M) - 1)` where `M` is the number of considered amino acids and `N` is the maximum considered peptide length. That value for 8 amino acids and maximum peptide length of 3 gives 4,368 possible peptide chains. If some of the reactions can be catalyzed by some of these peptide chains, then, in theory, we must consider that *all* peptide chains can catalyze *all* such reactions, though most of the coefficients are exact zeros. This requires considering huge sparse matrices of coefficients of various reactions. Subsequently, it is not possible to use such matrices directly and all exact zeros must be removed from all equations. To address this problem, we generate a model (`ModelData.fs` file) based on some model parameters. The model parameters, in turn, control how sparse are matrices and what are the values of non-zero coefficients. The model describes a homogeneous chemical system. 

The system core consists of a model generator `ContGen.exe`, which generates a model file, ModelData.fs using preconfigured statistical distributions, model types, and some other parameters. The generator continuously loads parameters from the database, produces models, compiles then, and then spawns processes to run them for all configured initial values / run time. The number of processes is limited by `Environment.ProcessorCount`. That keeps processing load near 100% for as long as the generator runs. The parameters can be adjusted on the fly and that will affect the models, which are generated after that. Once model is completed the results are stored in `ResultData` table. Then HTML chats can be produced by running `ClmPlot.exe plot -r=<resultDataId>` where `<resultDataId>` is `resultDataId` from `ResultData` table.
